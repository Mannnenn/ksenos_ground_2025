# 飛行機の制御用 ROS2 package

## 処理の概要

1. SBUS の受信

- プロポからのデータを生の値で受信します
- 生データを扱いやすい値に変換します
  - サーボに関連する値はカウント値から角度に直します。スロットルからの値は 0~1 にマッピングします。
  - 各種スイッチの値をしきい値をもとに分類します
  - 手動モードが有効のときは必ず手動モードになります。自動離着陸が有効のときは自動離着陸モードになります。前記の場合以外に各種旋回モードになります。
  - is_lost_frame と is_failsafe の値を Bool に変換します。
- 最初の N 秒間各サーボの角度を取得してトリム状態の角度を 0 として発行するように補正します
  - 釣り合い状態からの入力を制御として扱いたいので大丈夫です。

2. LiDAR の処理

- LiDAR からのデータを受信します
- 最初の M 秒間モーターを下から上に一定速度で振り、エリアの固定物のための地図を作成します
- 地図を一部分切り出して地面の平面推定します。LiDAR
