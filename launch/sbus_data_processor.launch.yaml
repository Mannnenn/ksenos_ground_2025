launch:
  - node:
      pkg: ksenos_ground
      exec: get_sbus_raw_data
      name: sbus_raw_data_reader

  - node:
      pkg: ksenos_ground
      exec: proc_sbus_data
      name: sbus_data_processor
      param:
        - name: "servo_min_count"
          value: 352
        - name: "servo_max_count"
          value: 1696
        - name: "servo_min_rad"
          value: -0.5236 # -30 degrees in radians
        - name: "servo_max_rad"
          value: 0.5236 # 30 degrees in radians
        - name: "throttle_min_count"
          value: 352
        - name: "throttle_max_count"
          value: 1696
        - name: "throttle_min_openness"
          value: 0.0
        - name: "throttle_max_openness"
          value: 1.0
        - name: "autopilot_threshold"
          value: 1000
        - name: "autolanding_threshold"
          value: 1000
        - name: "dropping_device_threshold_low"
          value: 900
        - name: "dropping_device_threshold_high"
          value: 1500
        - name: "autopilot_mode_threshold_low"
          value: 500
        - name: "autopilot_mode_threshold_high"
          value: 1500

  - node:
      pkg: ksenos_ground
      exec: offset_sbus_data
      name: sbus_offset_node
      param:
        - name: "calibration_duration"
          value: 3.0
        - name: "input_topic"
          value: "sbus_data"
        - name: "output_topic"
          value: "sbus_offset"
